<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dashboard - Schede Clienti</title>
    <link rel="icon" href="/favicon.ico" type="image/x-icon" />
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/css/style.css">
</head>
<body>

<main class="container dashboard-main">
    <img src="img/logo1.jpg" alt="Logo Quality Hair" class="page-logo">
    

<!-- ============================================= -->
<!-- ========= INIZIO GRIGLIA PANNELLI ========= -->
<!-- ============================================= -->
<div class="dashboard-grid-container">

    <!-- RIGA 1 -->
    <!-- PANNELLO APPUNTAMENTI (Appuntamenti di Oggi + Agenda) -->
    <div class="panel dashboard-panel">
        <h2 class="panel-title">Appuntamenti di Oggi</h2>
        <p class="panel-subtitle">Riepilogo della giornata.</p>
        <ul class="appointments-list" id="lista-appuntamenti">
            <li class="appointment-item loading">Caricamento in corso...</li>
        </ul>
        
        <hr class="panel-divider">

        <h2 class="panel-title">Agenda Settimanale</h2>
        <a href="/calendario" class="btn btn-nav">Visualizza Appuntamenti</a>
        <button onclick="window.open('https://calendar.google.com/calendar/u/0/r/week', '_blank')" class="btn btn-nav btn-secondary mt-2">Apri Google Calendar</button>
    </div>

    <!-- PANNELLO CLIENTI (Cerca + Nuovo) -->
    <div class="panel dashboard-panel">
        <h2 class="panel-title">Cerca Cliente</h2>
        <p class="panel-subtitle">Trova rapidamente i dettagli di un cliente.</p>
        <input type="text" id="search-input" placeholder="Nome, Cognome o Soprannome" class="input-field" />
        <button id="search-button" class="btn btn-primary">Cerca</button>

        <hr class="panel-divider">

        <h2 class="panel-title">Nuovo Cliente</h2>
        <input type="text" id="new-client-name" placeholder="Nome" required class="input-field" />
        <input type="text" id="new-client-surname" placeholder="Cognome" required class="input-field" />
		<input type="text" id="new-client-nickname" placeholder="Soprannome (opzionale)" class="input-field" />
        <input type="email" id="new-client-email" placeholder="Email (opzionale)" class="input-field" />
        <input type="tel" id="new-client-phone" placeholder="Telefono (opzionale)" class="input-field" />
		        <!-- ======================================================= -->
        <!-- === NUOVO CAMPO PER I TAG (AGGIUNGI QUESTO) === -->
        <!-- ======================================================= -->
        <input type="text" id="new-client-tags" placeholder="Tag (es: VIP, Allergia Tinta)" class="input-field" />
        <!-- ======================================================= -->
		
		
        <button id="add-new-client-button" class="btn btn-primary">Aggiungi Cliente</button>
    </div>

    <!-- RIGA 2 -->
    <!-- PANNELLO MUSICA -->
    <div class="panel dashboard-panel">
        <h2 class="panel-title">Musica</h2>
        <p class="panel-subtitle">Gestisci la musica d'ambiente.</p>
        <div class="panel-actions-bottom">
            <button onclick="window.open('https://open.spotify.com/', '_blank')" class="btn btn-nav">Apri Spotify</button>
            <button onclick="window.open('http://79.6.136.236:32400/web/index.html#!/server/6ebfb71d58fed1206d2c273ca1b96e2e9c3ead61/playlist?key=%2Fplaylists%2F19976&context=source%3Acontent.playlists~0~5', '_blank')" class="btn btn-nav">Apri Player Musica</button>
        </div>
    </div>

    <!-- PANNELLO GESTIONE -->
    <div class="panel dashboard-panel">
        <h2 class="panel-title">Gestione</h2>
		<p class="panel-subtitle">Gestisci il programma.</p>
        <div class="panel-actions-bottom">
		<a href="/catalogo.html" class="btn btn-nav">Catalogo Lavori</a>
            <a href="/lista-clienti.html" class="btn btn-nav">Lista Clienti</a>
            <a href="/logout" class="btn btn-danger">Esci</a>
        </div>
    </div>

</div>
<!-- ============================================= -->
<!-- ========= FINE GRIGLIA PANNELLI =========== -->
<!-- ============================================= -->
    </main>


<!-- ======================================================= -->
<!-- === NUOVA MODALE "PREPARA APPUNTAMENTO" === -->
<!-- ======================================================= -->
<div id="prepare-appointment-modal" class="modal">
    <div class="modal-content large-modal">
        
        <div class="prep-header">
            <img id="prep-avatar" src="/img/default-avatar.png" alt="Avatar Cliente" class="profile-avatar">
            <div class="prep-header-info">
                <h3 id="prep-client-name">Nome Cliente...</h3>
                <div id="prep-client-tags" class="tags-container"></div>
            </div>
            <button class="modal-button cancel" id="prep-close-btn" style="position: absolute; top: 15px; right: 15px;">&times;</button>
        </div>

        <hr class="panel-divider">

        <div class="prep-grid">
            <!-- Colonna Sinistra: Ultimo Lavoro -->
            <div class="prep-section">
                <h4>Ultimo Lavoro Eseguito</h4>
                <div id="prep-last-photo-container" class="prep-photo-container">
                    <p>Nessuna foto recente trovata.</p>
                </div>
                <div id="prep-last-formula">
                    <strong>Formula Colore:</strong>
                    <p>Nessuna formula registrata.</p>
                </div>
            </div>

            <!-- Colonna Destra: Ultima Analisi -->
            <div class="prep-section">
                <h4>Ultima Analisi Trico</h4>
                <div id="prep-last-analysis">
                    <p>Nessuna analisi trovata.</p>
                </div>
            </div>
        </div>

        <hr class="panel-divider">

        <!-- Azioni Rapide -->
        <div class="prep-actions">
            <a id="prep-full-card-btn" href="#" class="btn btn-primary">Apri Scheda Completa</a>
            <div class="contact-actions">
                <a id="prep-whatsapp-btn" class="contact-btn" title="Invia WhatsApp" style="display: none;">ðŸ’¬</a>
                <a id="prep-email-btn" class="contact-btn" title="Invia Email" style="display: none;">ðŸ“§</a>
            </div>
        </div>
    </div>
</div>


    <script src="/js/dashboard-app.js"></script>

</body>
</html>
